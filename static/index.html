<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Video Recommendations</title>
</head>
<body>
  <h1>Video Recommendations</h1>
  <label>
    User ID:
    <input type="text" id="userInput" placeholder="user_1">
  </label>
  <label>
    Count:
    <input type="number" id="nInput" value="5" min="1" max="20">
  </label>
  <button id="go">Go</button>

  <ul id="results"></ul>

  <script>
    const API_BASE = 'https://bug-free-space-spork-jjq7rgjj5jxgcpg79-8000.app.github.dev';


    document.getElementById('go').onclick = () => {
      const user = document.getElementById('userInput').value || 'user_1';
      const n    = document.getElementById('nInput').value || 5;
      fetch(`${API_BASE}/recommendations?user_id=${user}&n=${n}`)
        .then(r => r.json())
        .then(data => {
          const ul = document.getElementById('results');
          ul.innerHTML = ''; 
          data.recommendations.forEach((vid, i) => {
            const li = document.createElement('li');
            li.textContent = `${i+1}. ${vid}`;
            ul.appendChild(li);
          });
        })
        .catch(_ => {
          alert('Fetch errorâ€”check console and CORS settings');
          console.error(_);
        });
    };
  </script>
</body>
</html>
